## 1、通用定义


### 1. json协议根目录

```
* 仅供短连接使用
* /luajson
```


### 2. Key字段字符集

```
* 字母[a-zA-Z]
* 数字[0-9]
* 下划线[_]
* 必须以字母开头
* 不区分大小写
* 不支持其他任何特殊符号,便于通用于任何语言解析json并使用
```


### 3. 命名约定

```
* 同一次请求,重复协议命令情况下,追加后缀"_N[N.]",N=[0-9]
* 协议命令注意规避末尾带"_N[N.]"
```


### 4. 取值范围约定

```
* 通道取值范围为: [0-N); 即第一通道值为0, 第N通道值为N-1
* 字段'range'表示配置项的取值范围(强制性约束)
* 如果没有'range'对应项: 则约定,数值[0, 100],字符串长度[0, 128]
* 与字符集有关字符串的采用 utf-8 编码

boolean型取值范围： true, false

数值型取值范围：
*   方式1: 约定某个连续范围[min, max]
*     { min = 0, max = 100 }
*   方式2: 约定有限值集合
*     { 0, 90, 180, 270, 360 }

字符串取值范围：
*   方式1: 约定长度范围 min <= strlen <= max
*     { min = 0, max = 128 }
*   方式2: 约定有限字符串集合
*     { 'highest', 'higher', 'high','middle','low','lower', 'lowest' }
```

### 4. 建议值约定

```
* 字段'recommend'表示配置项的推荐取值集合

* 例如: 时间同步服务器可自行填写, 也可使用推荐的服务器
*    {'ntp1.aliyun.com', 'ntp2.aliyun.com'}
```


### 6. 协议区分

```
请求必须带字段 cmd,llssid,llauth
回复必须带字段 cmd

注意：
* 客户端向服务端获取数据协议不带"get_*"前缀,默认下全部为获取数据
* 客户端向服务器获取默认配置带"default_*"前缀
* 客户端向服务端设置协议带"set_*"前缀
* 客户端向服务端控制协议带"ctrl_*"前缀
* 媒体相关业务协议带"open_*","close_*"前缀
* 服务端向客户端主动推送协议带"push_*"前缀
```

### 7. 常用简写

```
* 'chnn'  : 原词'channel', 音视频通道
* 'num'   : 原词'number', 数目数量
* 'cfg'   : 原词'config', 配置
* 'txt'   : 原词'text', 文本

* 'GMT'   : 时区

```

### 8. 计量单位缩写

```
* 'YMD'   : 年月日
* 'HMS'   : 时分秒

* 'G'     : 存储单位
* 'M'     :
* 'K'     :

* 'Kbps'  : 网络传输率
```

### 9. 注意事项

```
* 客户端向服务发送的单个包数据量限制为2M
* 服务端向客户端发送的单个包数据量限制为4M
```
